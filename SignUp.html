<!doctype html>
<html lang="en">
    <head>
        <title>Sign Up</title>
        <!-- Required meta tags -->
        <meta charset="utf-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1, shrink-to-fit=no"
        />

        <!-- Bootstrap CSS v5.2.1 -->
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
            crossorigin="anonymous"
        />

        <link rel="stylesheet" href="./css/style.css">
    </head>

    <body>

 <div class="wrapper">
            <div class="container">
                <h2>Sign Up</h2>
                <form action="#">
                    <div class="mb-3">
                        <input
                            type="text"
                            class="form-control"
                            name=""
                            id="txtUser"
                            aria-describedby="helpId"
                            placeholder="UserName"
                        />
                       
                    </div>
                    
                    <div class="mb-3">
                        <input
                            type="email"
                            class="form-control"
                            name=""
                            id="txtEmail"
                            aria-describedby="helpId"
                            placeholder="Email"
                        />
                        <i class="fa-solid fa-user"></i>
                    </div>
                    <div class="mb-3">
                        <input
                            type="password"
                            class="form-control"
                            name=""
                            id="txtPass"
                            aria-describedby="helpId"
                            placeholder="Password"
                        />
                        <i class="fa-solid fa-lock"></i>
                        <div class="mb-3">
                            <input
                                type="text"
                                class="form-control"
                                name=""
                                id="txtPhone"
                                aria-describedby="helpId"
                                placeholder="Phone"
                            />
                    </div>
                    <div class="row">
                        <div class="col-6 form-group">
                            <label class="mb-2 text-light fw-bold" for="">Date : </label>
                            <input type="date" class="form-control" id="txtDate">
                            <span id="spanNgaySinh" class="text-danger"></span>
                        </div>
                        <div class="col-6 form-group ">
                            <p>Gender : </p>
                            <div class="form-check form-check-inline">
                              <input class="form-check-input" type="radio" name="gender" id="male" value="Nam">
                              <label class="form-check-lable" for="male">Nam</label>
                            </div> 
                            <div class="form-check form-check-inline">
                              <input class="form-check-input" type="radio" name="gender" id="female" value="Nữ">
                              <label class="form-check-lable" for="female">Nữ</label>
                            </div>   
                          </div> 
                           
                    </div>
                    
                    <button type="submit" id="btnSignUp" class="SignUp mb-4 mt-4" value="sign up">Sign Up</button>
                    <div class="form-footer d-flex justify-content-lg-between">
                       <div class="right">
                        <a href="#" class="forgot">Forgot Password</a>
                       </div> 
                       <div class="left">
                        <a href="Login.html" class="Login">Login</a>
                       </div> 

                    </div>

                  
                </form>
            </div>







        <script
            src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
            integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
            crossorigin="anonymous"
        ></script>

        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
            integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
            crossorigin="anonymous"
        ></script>

        <!-- firebase -->
        <script type="module">
            // Import the functions you need from the SDKs you need
            import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
            import { getDatabase } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js";
            import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-analytics.js";
            import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
            // TODO: Add SDKs for Firebase products that you want to use
            // https://firebase.google.com/docs/web/setup#available-libraries
          
            // Your web app's Firebase configuration
            // For Firebase JS SDK v7.20.0 and later, measurementId is optional
            const firebaseConfig = {
              apiKey: "AIzaSyAtOCV1Oc64BvpV0OxG-uqi2tlWsE77au4",
              authDomain: "datauser-dff0f.firebaseapp.com",
              projectId: "datauser-dff0f",
              storageBucket: "datauser-dff0f.appspot.com",
              messagingSenderId: "1005566228043",
              appId: "1:1005566228043:web:e9a70b219ff82b3c8a3fce",
              measurementId: "G-M05FJTW86B"
            };
          
            // Initialize Firebase
            const app = initializeApp(firebaseConfig);
            const analytics = getAnalytics(app);
            const db =  getDatabase(app);
            const auth = getAuth();

            document.getElementById("btnSignUp").addEventListener('click',(event)=>{
                event.preventDefault();

                let username = document.getElementById("txtUser").value;
                let email = document.getElementById("txtEmail").value;
                let password = document.getElementById("txtPass").value;
                let phone = document.getElementById("txtPhone").value;
                let date = document.getElementById("txtDate").value;
                let male= document.getElementById("male").value;
                let female = document.getElementById("female").value;
                 
                createUserWithEmailAndPassword(auth, email, password)
                   .then((userCredential) => {
                     // Signed up 
                          const user = userCredential.user;
                          set(ref(db,'user/' + username))
                          alert("user created");
                            // ...
                        })
                   .catch((error) => {
                       const errorCode = error.code;
                       const errorMessage = error.message;

                       alert("error Message");
                        // ..
                         });

            });
          </script>
    </body>
</html>
